apiVersion: velero.io/v1
kind: Schedule
metadata:
  name: velero-weekly
  namespace: velero
  labels:
    backup-tier: weekly
  annotations:
    backup-policy.k8s.local/notes: "Weekly backups: 28d TTL"
spec:
  schedule: "0 3 * * 0" # weekly Sunday at 03:00
  template:
    includedNamespaces:
      - '*'
    excludedNamespaces:
      - velero
      - kube-system
      - default
      - kiwix
      - cert-manager
      - kubechecks
      - gateway
      - n8n
      - vllm-embed
    includedResources:
      - '*'
    excludedResources:
      - events
      - storageclasses.storage.k8s.io
    includeClusterResources: null
    defaultVolumesToFsBackup: true
    storageLocation: default
    ttl: 672h # 28 days

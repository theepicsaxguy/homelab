apiVersion: "acid.zalan.do/v1"
kind: postgresql
metadata:
  name: litellm-postgresql
  namespace: litellm
spec:
  teamId: "litellm"
  volume:
    size: 10Gi
  volumeClaimTemplate:
    metadata:
      labels:
        recurring-job.longhorn.io/source: enabled
        recurring-job-group.longhorn.io/gfs: enabled
  numberOfInstances: 1
  users:
    litellm:
      - superuser
      - createdb
  databases:
    litellm: litellm
  enableLogicalBackup: false
  logicalBackupSchedule: "0 3 * * *"
  postgresql:
    version: "17"
  spiloFSGroup: 103
  resources:
    requests:
      cpu: 200m
      memory: 512Mi
    limits:
      cpu: 1000m
      memory: 1Gi

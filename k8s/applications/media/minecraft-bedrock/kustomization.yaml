apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: minecraft
resources:
  - namespace.yaml
  - bedrockconnect-configmap.yaml
  - admin-external-secret.yaml
  - statefulset.yaml
  - service.yaml
  - bedrockconnect-deployment.yaml
  - bedrockconnect-service.yaml

configMapGenerator:
  - name: minecraft-bedrock
    literals:
      - TYPE=PAPER
      - VERSION=1.21.11
      - PAPER_BUILD=99
      - EULA=true
      - SERVER_PORT=25565
      - ONLINE_MODE=true
      - GEYSER_ENABLED=true
      - FLOODGATE=true
      - GEYSER_AUTH_TYPE=floodgate
      - TZ=Europe/Stockholm
      - MOTD=Homelab Server
      - MAX_PLAYERS=20
      - ALLOW_LIST=false
      - VIEW_DISTANCE=15
      - PLAYER_IDLE_TIMEOUT=30
      - LEVEL_NAME=default
      - LEVEL_TYPE=DEFAULT
    files:
      - PLUGINS=plugins.txt
  - name: geyser-config
    files:
      - config.yml

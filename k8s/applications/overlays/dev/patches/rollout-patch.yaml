apiVersion: argoproj.io/v1alpha1
kind: Rollout
metadata:
  name: app-rollout
spec:
  strategy:
    blueGreen:
      autoPromotionEnabled: true # Auto-promote in dev for faster testing
      scaleDownDelaySeconds: 10  # Faster cleanup in dev
      prePromotionAnalysis: null # Skip analysis in dev
      postPromotionAnalysis: null
  template:
    spec:
      containers:
      - name: app
        resources:
          requests:
            cpu: 100m
            memory: 128Mi
          limits:
            cpu: 200m
            memory: 256Mi

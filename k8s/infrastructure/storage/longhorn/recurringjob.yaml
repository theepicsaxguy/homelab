apiVersion: longhorn.io/v1beta1
kind: RecurringJob
metadata:
  name: backup-daily
  namespace: longhorn-system
spec:
  cron: "0 1 * * *"  # Daily at 1 AM
  task: "backup"
  groups:
  - default
  - group1
  retain: 7  # Keep a week of backups
  concurrency: 2
  labels:
    type: scheduled
---
apiVersion: longhorn.io/v1beta1
kind: RecurringJob
metadata:
  name: snapshot-cleanup
  namespace: longhorn-system
spec:
  cron: "*/30 * * * *"  # Every 30 minutes
  task: "snapshot-cleanup"
  groups:
  - default
  - group1
  concurrency: 2
  labels:
    type: maintenance

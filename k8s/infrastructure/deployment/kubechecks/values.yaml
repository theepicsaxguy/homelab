# values.yaml
replicaCount: 1

image:
  repository: ghcr.io/zapier/kubechecks
  tag: ""            # defaults to chart appVersion
  pullPolicy: Always

service:
  type: ClusterIP
  port: 8080

resources:
  limits:
    cpu: 500m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi

# We're using ExternalSecret to provide these, so disable chart-managed secrets.
secrets:
  create: false

deployment:
  # Remove any envFrom, because the key names in your secrets
  # don't match kubechecks' expected env-var names.
  envFrom: []

  # Explicitly map your existing secrets->keys to the variables kubechecks needs.
  env:
    - name: KUBECHECKS_VCS_TOKEN
      valueFrom:
        secretKeyRef:
          name: github-token
          key: github_token
    - name: KUBECHECKS_ARGOCD_API_TOKEN
      valueFrom:
        secretKeyRef:
          name: argocd-token
          key: argocd-api-token

podAnnotations: {}
nodeSelector: {}
tolerations: []
affinity: {}